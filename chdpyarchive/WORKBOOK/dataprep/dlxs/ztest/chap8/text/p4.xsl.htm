<html>
<body>
<pre>
&lt;?xml version="1.0"?> 
&lt;xsl:stylesheet version="1.0" 
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  &lt;xsl:template match="people">
    &lt;html>
      &lt;head>&lt;title>Famous Scientists&lt;/title>&lt;/head>
      &lt;body>
        &lt;ul>&lt;xsl:apply-templates select="person" mode="toc"/>&lt;/ul>
        &lt;xsl:apply-templates select="person"/>
      &lt;/body>
    &lt;/html>
  &lt;/xsl:template>

  &lt;!-- Table of Contents Mode Templates -->
  &lt;xsl:template match="person" mode="toc">
    &lt;xsl:apply-templates select="name" mode="toc"/>
  &lt;/xsl:template>

  &lt;xsl:template match="name" mode="toc">
    &lt;li>&lt;xsl:value-of select="last_name"/>, 
    &lt;xsl:value-of select="first_name"/>&lt;/li>
  &lt;/xsl:template>

  &lt;!-- Normal Mode Templates -->
  &lt;xsl:template match="person">
    &lt;p>&lt;xsl:apply-templates/>&lt;/p>
  &lt;/xsl:template>

&lt;/xsl:stylesheet>
</pre>
</body>
</html>
